---
title: Zsh Vi-Modeä½¿ç”¨æ‰‹å†Œ
date: 2025-12-27 23:15:36
tags:
---

# Vi ä¹ æƒ¯æŒ‡å—ï¼š Zsh

> **ç¯å¢ƒå£°æ˜**ï¼šArch Linux | Kitty 0.44 | Zsh (Vi-mode) | Neovim v0.11.5 | Hyprland (JaKooLit)

æœ¬æŒ‡å—æ—¨åœ¨å°† `HJKL` çš„è‚Œè‚‰è®°å¿†è´¯ç©¿æ•´ä¸ªç³»ç»Ÿï¼šä»çª—å£ç®¡ç†åˆ°ç»ˆç«¯ç¼–è¾‘ï¼Œå†åˆ°å†å²å›æº¯ã€‚

---

## 1. ç»ˆç«¯çº§ï¼šZsh Vi-Mode æ ¸å¿ƒæ“ä½œ

åœ¨ç»ˆç«¯æ‰§è¡Œ `bindkey -v` åï¼Œ Zsh å˜æˆäº†â€œå•è¡Œ Vimâ€ã€‚

### ğŸ”¹ æ¨¡å¼åˆ‡æ¢
- **è¿›å…¥å‘½ä»¤æ¨¡å¼ (Normal)**ï¼šè¾“å…¥ `jk` (è‡ªå®šä¹‰) æˆ– `ESC`ã€‚
  - *è§†è§‰æç¤º*ï¼šå…‰æ ‡å˜ä¸º **æ–¹å— â–ˆ**ã€‚
- **è¿›å…¥æ’å…¥æ¨¡å¼ (Insert)**ï¼šæŒ‰ `i` (å‰æ’)ã€`a` (åæ’)ã€`I` (è¡Œé¦–)ã€`A` (è¡Œå°¾)ã€‚
  - *è§†è§‰æç¤º*ï¼šå…‰æ ‡å˜ä¸º **ç«–çº¿ |**ã€‚

### ğŸ”¹ ç§»åŠ¨ä¸å¿«é€Ÿå®šä½ (Normal Mode)
- **åŸºç¡€**ï¼š`h` `j` `k` `l` (å·¦ ä¸‹ ä¸Š å³)ã€‚
- **å•è¯**ï¼š`w` (è·³è‡³ä¸‹ä¸ªå•è¯å¤´), `b` (è·³è‡³ä¸Šä¸ªå•è¯å¤´), `e` (è·³è‡³å•è¯å°¾)ã€‚
- **è¡Œç¼˜**ï¼š`0` (è¡Œé¦–), `$` (è¡Œå°¾)ã€‚
- **å†å²ç¿»é˜…**ï¼š`j` / `k` æˆ– `/` åè¾“å…¥å…³é”®è¯å›è½¦ã€‚

### ğŸ”¹ æé€Ÿç¼–è¾‘
- **åˆ é™¤**ï¼š`x` (åˆ å­—ç¬¦), `dw` (åˆ å•è¯), `dd` (æ¸…ç©ºè¡Œ)ã€‚
- **ä¿®æ”¹**ï¼š`cw` (æ”¹å•è¯), `C` (æ”¹è‡³è¡Œå°¾)ã€‚
- **æ’¤é”€**ï¼š`u` (Undo)ã€‚

---

## 2. è·¨ç»´åº¦ï¼šKitty + Neovim è”åŠ¨

é€šè¿‡é…ç½® `scrollback_pager`ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ Neovim çš„å¨åŠ›æ¥å¤„ç†ç»ˆç«¯å†å²è¾“å‡ºã€‚

### ğŸ”¹ å†å²å›æº¯ (Alt + H)
1. æŒ‰ä¸‹ **`Alt + H`**ï¼šå½“å‰ç»ˆç«¯æ‰€æœ‰è¾“å‡ºåœ¨ä¸€ä¸ªä¸´æ—¶çš„ Neovim ç¼“å†²åŒºæ‰“å¼€ã€‚
2. **æœç´¢**ï¼šè¾“å…¥ `/å…³é”®è¯` å¿«é€Ÿå®šä½æŠ¥é”™ä¿¡æ¯æˆ–æ—¥å¿—ã€‚
3. **å¤åˆ¶**ï¼šæŒ‰ `v` é€‰ä¸­ï¼ŒæŒ‰ `y` å¤åˆ¶ï¼ˆå·²åŒæ­¥è‡³ç³»ç»Ÿå‰ªåˆ‡æ¿ï¼‰ã€‚
4. **é€€å‡º**ï¼šè¾“å…¥ `:q` ç¬é—´å›åˆ°ç›´æ’­ç»ˆç«¯ã€‚

### ğŸ”¹ é•¿å‘½ä»¤ç¼–è¾‘ (Normal Mode -> v)
1. åœ¨è¾“å…¥å¤æ‚å‘½ä»¤æ—¶ï¼ŒæŒ‰ `jk` è¿›å…¥å‘½ä»¤æ¨¡å¼ã€‚
2. æŒ‰ä¸‹ **`v`**ã€‚
3. åœ¨å¼¹å‡ºçš„å…¨å± Neovim ä¸­ç¼–å†™è„šæœ¬ã€‚
4. `:wq` ä¿å­˜é€€å‡ºï¼Œå‘½ä»¤è‡ªåŠ¨å›å¡«å¹¶å‡†å¤‡æ‰§è¡Œã€‚

---

## 3. ç³»ç»Ÿçº§ï¼šHyprland çª—å£ç®¡ç†

åˆ©ç”¨ `Super` (Windows é”®) é…åˆ `HJKL` å®ç°æ— æ„Ÿçª—å£åˆ‡æ¢ã€‚

- **`Super + H/J/K/L`**ï¼šåœ¨å½“å‰å·¥ä½œåŒºåˆ‡æ¢çª—å£ç„¦ç‚¹ã€‚
- **`Super + Shift + H/J/K/L`**ï¼šç‰©ç†ç§»åŠ¨å½“å‰çª—å£çš„ä½ç½®ã€‚

---

## ğŸ’¡ æ ¸å¿ƒé…ç½®å¤‡å¿˜ (Configuration Cheat-sheet)

### Zsh (`~/.zshrc`)
```zsh
bindkey -v
export KEYTIMEOUT=15
bindkey -M viins 'jk' vi-cmd-mode
bindkey -M vicmd 'k' up-line-or-beginning-search # å¸¦è®°å¿†çš„æœç´¢
bindkey -M vicmd 'j' down-line-or-beginning-search
```

### Kitty (`~/.config/kitty/kitty.conf`)
```conf
scrollback_pager nvim -c "set signcolumn=no showtabline=0" -c "silent! write! /tmp/kitty_scrollback_buffer | te cat /tmp/kitty_scrollback_buffer - " -c "normal G"
map alt+h show_scrollback
```

### Hyprland (`~/.config/hypr/UserConfigs/UserKeybinds.conf`)
```bash
bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r
bind = $mainMod, K, movefocus, u
bind = $mainMod, J, movefocus, d
```

---

## ğŸ“‹ å¸¸ç”¨å¿«æ·é”®é€ŸæŸ¥è¡¨

| åŠŸèƒ½ç»´åº¦ | å¿«æ·é”® | åŠ¨ä½œæè¿° |
| :--- | :--- | :--- |
| **æ¨¡å¼åˆ‡æ¢** | `jk` | é€€å‡ºæ’å…¥æ¨¡å¼ |
| **å‘½ä»¤ç¼–è¾‘** | `v` | åœ¨ Neovim ä¸­ç¼–è¾‘å½“å‰è¡Œ |
| **å±å¹•å¤åˆ¶** | `Alt + H` | åƒç¼–è¾‘æ–‡ä»¶ä¸€æ ·å¤åˆ¶ç»ˆç«¯å†å² |
| **å†å²å‘½ä»¤** | `k` / `j` | å‘ä¸Š/ä¸‹ç¿»é˜…å†å² |
| **çª—å£èšç„¦** | `Super + HJKL` | åˆ‡æ¢å½“å‰å·¥ä½œåŒºçª—å£ |
| **çª—å£ä½ç§»** | `Super + Shift + HJKL` | è°ƒæ•´çª—å£å¸ƒå±€ |

---
*Generated by Arch_z Config Reference*
